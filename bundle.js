var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function a(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function o(e,t,n){e.$$.on_destroy.push(c(t,n))}function u(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function k(){return b(" ")}function f(){return b("")}function d(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function h(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}class m{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=y(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)i(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(l)}}let $;function g(e){$=e}function _(){if(!$)throw new Error("Function called outside component initialization");return $}function v(e){_().$$.on_destroy.push(e)}function x(){const e=_();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const a=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);s.slice().forEach(t=>{t.call(e,a)})}}}const w=[],O=[],E=[],C=[],K=Promise.resolve();let N=!1;function A(e){E.push(e)}let j=!1;const q=new Set;function L(){if(!j){j=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];g(t),S(t.$$)}for(w.length=0;O.length;)O.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];q.has(t)||(q.add(t),t())}E.length=0}while(w.length);for(;C.length;)C.pop()();N=!1,j=!1,q.clear()}}function S(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(A)}}const z=new Set;let T;function M(){T={r:0,c:[],p:T}}function P(){T.r||s(T.c),T=T.p}function R(e,t){e&&e.i&&(z.delete(e),e.i(t))}function B(e,t,n,s){if(e&&e.o){if(z.has(e))return;z.add(e),T.c.push(()=>{z.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}function F(e){e&&e.c()}function H(e,n,r){const{fragment:c,on_mount:o,on_destroy:u,after_update:i}=e.$$;c&&c.m(n,r),A(()=>{const n=o.map(t).filter(a);u?u.push(...n):s(n),e.$$.on_mount=[]}),i.forEach(A)}function D(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function G(e,t){-1===e.$$.dirty[0]&&(w.push(e),N||(N=!0,K.then(L)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(t,a,r,c,o,u,i=[-1]){const y=$;g(t);const b=a.props||{},k=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(y?y.$$.context:[]),callbacks:n(),dirty:i};let f=!1;if(k.ctx=r?r(t,b,(e,n,...s)=>{const a=s.length?s[0]:n;return k.ctx&&o(k.ctx[e],k.ctx[e]=a)&&(k.bound[e]&&k.bound[e](a),f&&G(t,e)),n}):[],k.update(),f=!0,s(k.before_update),k.fragment=!!c&&c(k.ctx),a.target){if(a.hydrate){const e=function(e){return Array.from(e.childNodes)}(a.target);k.fragment&&k.fragment.l(e),e.forEach(l)}else k.fragment&&k.fragment.c();a.intro&&R(t.$$.fragment),H(t,a.target,a.anchor),L()}g(y)}class J{$destroy(){D(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const Q=0,U=1,V=[];function W(e,t){return{subscribe:X(e,t).subscribe}}function X(t,n=e){let s;const a=[];function c(e){if(r(t,e)&&(t=e,s)){const e=!V.length;for(let e=0;e<a.length;e+=1){const n=a[e];n[1](),V.push(n,t)}if(e){for(let e=0;e<V.length;e+=2)V[e][0](V[e+1]);V.length=0}}}return{set:c,update:function(e){c(e(t))},subscribe:function(r,o=e){const u=[r,o];return a.push(u),1===a.length&&(s=n(c)||e),r(t),()=>{const e=a.indexOf(u);-1!==e&&a.splice(e,1),0===a.length&&(s(),s=null)}}}}const Y=X(Q);function Z(t){let n,a,r,c,o,f,h,m,$,g,_,v,x,w;return{c(){n=y("div"),n.textContent="Select training",a=k(),r=y("div"),c=y("label"),o=y("input"),h=b("\n\t\tSelect Keys"),m=k(),$=y("label"),g=y("input"),v=b("\n\t\tRandom Key"),p(n,"class","block"),p(o,"type","radio"),o.__value=f=Q,o.value=o.__value,t[2][0].push(o),p(c,"class","radio"),p(g,"type","radio"),g.__value=_=U,g.value=g.__value,t[2][0].push(g),p($,"class","radio"),p(r,"class","block flex")},m(e,s){i(e,n,s),i(e,a,s),i(e,r,s),u(r,c),u(c,o),o.checked=o.__value===t[0],u(c,h),u(r,m),u(r,$),u($,g),g.checked=g.__value===t[0],u($,v),x||(w=[d(o,"change",t[1]),d(g,"change",t[3])],x=!0)},p(e,[t]){1&t&&(o.checked=o.__value===e[0]),1&t&&(g.checked=g.__value===e[0])},i:e,o:e,d(e){e&&l(n),e&&l(a),e&&l(r),t[2][0].splice(t[2][0].indexOf(o),1),t[2][0].splice(t[2][0].indexOf(g),1),x=!1,s(w)}}}function ee(e,t,n){let s;o(e,Y,e=>n(0,s=e));return[s,function(){s=this.__value,Y.set(s)},[[]],function(){s=this.__value,Y.set(s)}]}class te extends J{constructor(e){super(),I(this,e,ee,Z,r,{})}}const ne="en",se="ru",ae=X(ne);function re(t){let n,a,r,c,o,f,h,m,$,g,_,v,x,w;return{c(){n=y("div"),n.textContent="Select language",a=k(),r=y("div"),c=y("label"),o=y("input"),h=b("\n        English"),m=k(),$=y("label"),g=y("input"),v=b("\n        Russian"),p(n,"class","block"),p(o,"type","radio"),o.__value=f=ne,o.value=o.__value,t[2][0].push(o),p(c,"class","radio"),p(g,"type","radio"),g.__value=_=se,g.value=g.__value,t[2][0].push(g),p($,"class","radio"),p(r,"class","block flex")},m(e,s){i(e,n,s),i(e,a,s),i(e,r,s),u(r,c),u(c,o),o.checked=o.__value===t[0],u(c,h),u(r,m),u(r,$),u($,g),g.checked=g.__value===t[0],u($,v),x||(w=[d(o,"change",t[1]),d(g,"change",t[3])],x=!0)},p(e,[t]){1&t&&(o.checked=o.__value===e[0]),1&t&&(g.checked=g.__value===e[0])},i:e,o:e,d(e){e&&l(n),e&&l(a),e&&l(r),t[2][0].splice(t[2][0].indexOf(o),1),t[2][0].splice(t[2][0].indexOf(g),1),x=!1,s(w)}}}function ce(e,t,n){let s;o(e,ae,e=>n(0,s=e));return[s,function(){s=this.__value,ae.set(s)},[[]],function(){s=this.__value,ae.set(s)}]}class oe extends J{constructor(e){super(),I(this,e,ce,re,r,{})}}const ue=X(!0);function ie(e){let t,n,s,a;return{c(){t=y("button"),n=b("Start"),p(t,"class","block svelte-1nit1xy"),t.disabled=e[1]},m(r,c){var o;i(r,t,c),u(t,n),s||(a=d(t,"click",(o=e[4],function(e){return e.stopPropagation(),o.call(this,e)})),s=!0)},p(e,n){2&n&&(t.disabled=e[1])},d(e){e&&l(t),s=!1,a()}}}function le(t){let n,s,a,r,c=t[2]&&ie(t);return{c(){n=k(),c&&c.c(),s=f()},m(e,o){i(e,n,o),c&&c.m(e,o),i(e,s,o),a||(r=d(document.body,"click",t[3]),a=!0)},p(e,[t]){e[2]?c?c.p(e,t):(c=ie(e),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&l(n),c&&c.d(e),e&&l(s),a=!1,r()}}}function ye(t,n,s){let a,r,u=e,i=()=>(u(),u=c(y,e=>s(5,a=e)),y);o(t,ue,e=>s(2,r=e)),t.$$.on_destroy.push(()=>u());let l,{setupOk:y}=n;i();return t.$set=e=>{"setupOk"in e&&i(s(0,y=e.setupOk))},t.$$.update=()=>{32&t.$$.dirty&&s(1,l=!a)},[y,l,r,()=>ue.set(!0),()=>ue.set(!1)]}class be extends J{constructor(e){super(),I(this,e,ye,le,r,{setupOk:0})}}function ke(t){let n,s;return{c:e,m(e,a){n||(s=d(document.body,"keydown",t[0]),n=!0)},p:e,i:e,o:e,d(e){n=!1,s()}}}function fe(e){const t=x();return[function(e){t("key",e.key.toLowerCase())}]}class de extends J{constructor(e){super(),I(this,e,fe,ke,r,{})}}let pe="";function he(e){return e.base?me(e.base[pe]):null}function me(e){return e[Math.floor(Math.random()*e.length)]}ae.subscribe(e=>pe=e);const $e={ru:"фыва",en:"asdf"},ge={ru:"олдж",en:"jkl;"},_e={ru:[{key:"ё",base:$e},{key:"1",base:$e},{key:"2",base:$e},{key:"3",base:$e},{key:"4",base:$e},{key:"5",base:$e},{key:"6",base:$e},{key:"7",base:ge},{key:"8",base:ge},{key:"9",base:ge},{key:"0",base:ge},{key:"-",base:ge},{key:"=",base:ge},{key:"\\",base:ge},{key:"!",base:$e},{key:'"',base:$e},{key:"№",base:$e},{key:";",base:$e},{key:"%",base:$e},{key:":",base:$e},{key:"?",base:ge},{key:"*",base:ge},{key:"(",base:ge},{key:")",base:ge},{key:"_",base:ge},{key:"+",base:ge},{key:"/",base:ge},{key:"й",base:$e},{key:"ц",base:$e},{key:"у",base:$e},{key:"к",base:$e},{key:"е",base:$e},{key:"н",base:ge},{key:"г",base:ge},{key:"ш",base:ge},{key:"щ",base:ge},{key:"з",base:ge},{key:"х",base:ge},{key:"ъ",base:ge},{key:"ф"},{key:"ы"},{key:"в"},{key:"а"},{key:"п",base:$e},{key:"р",base:ge},{key:"о"},{key:"л"},{key:"д"},{key:"ж"},{key:"э",base:ge},{key:"я",base:$e},{key:"ч",base:$e},{key:"с",base:$e},{key:"м",base:$e},{key:"и",base:$e},{key:"т",base:ge},{key:"ь",base:ge},{key:"б",base:ge},{key:"ю",base:ge},{key:".",base:ge},{key:",",base:ge}],en:[{key:"`",base:$e},{key:"1",base:$e},{key:"2",base:$e},{key:"3",base:$e},{key:"4",base:$e},{key:"5",base:$e},{key:"6",base:$e},{key:"7",base:ge},{key:"8",base:ge},{key:"9",base:ge},{key:"0",base:ge},{key:"-",base:ge},{key:"=",base:ge},{key:"\\",base:ge},{key:"~",base:$e},{key:"!",base:$e},{key:"@",base:$e},{key:"#",base:$e},{key:"$",base:$e},{key:"%",base:$e},{key:"^",base:$e},{key:"&",base:ge},{key:"*",base:ge},{key:"(",base:ge},{key:")",base:ge},{key:"_",base:ge},{key:"+",base:ge},{key:"|",base:ge},{key:"q",base:$e},{key:"w",base:$e},{key:"e",base:$e},{key:"r",base:$e},{key:"t",base:$e},{key:"y",base:ge},{key:"u",base:ge},{key:"i",base:ge},{key:"o",base:ge},{key:"p",base:ge},{key:"[",base:ge},{key:"]",base:ge},{key:"{",base:ge},{key:"}",base:ge},{key:"a"},{key:"s"},{key:"d"},{key:"f"},{key:"g",base:$e},{key:"h",base:ge},{key:"j"},{key:"k"},{key:"l"},{key:";"},{key:"'",base:ge},{key:":",base:ge},{key:'"',base:ge},{key:"z",base:$e},{key:"x",base:$e},{key:"c",base:$e},{key:"v",base:$e},{key:"b",base:$e},{key:"n",base:ge},{key:"m",base:ge},{key:",",base:ge},{key:".",base:ge},{key:"/",base:ge},{key:"<",base:ge},{key:">",base:ge},{key:"?",base:ge}]},ve=function(){const{subscribe:e,update:t,set:n}=X("");return{subscribe:e,removeLastKey:()=>{t(e=>e.slice(0,-1))},addKey:e=>{var n;(n=e,_e[pe].some(({key:e})=>e==n))&&t(t=>t.includes(e)?t:t+e)},reset:()=>{n("")}}}();function xe(e){let t,n,s,a,r,c,o;return t=new de({}),t.$on("key",e[1]),{c(){F(t.$$.fragment),n=k(),s=y("div"),s.textContent="Press training keys",a=k(),r=y("div"),c=b(e[0]),p(r,"class","keys svelte-gui2z5")},m(e,l){H(t,e,l),i(e,n,l),i(e,s,l),i(e,a,l),i(e,r,l),u(r,c),o=!0},p(e,[t]){(!o||1&t)&&h(c,e[0])},i(e){o||(R(t.$$.fragment,e),o=!0)},o(e){B(t.$$.fragment,e),o=!1},d(e){D(t,e),e&&l(n),e&&l(s),e&&l(a),e&&l(r)}}}function we(e,t,n){let s;return o(e,ve,e=>n(0,s=e)),[s,function(e){const t=e.detail;"backspace"===t?ve.removeLastKey():ve.addKey(t)}]}ae.subscribe(()=>ve.reset());let Oe="";ve.subscribe(e=>Oe=e);const Ee=function(t,n,r){const o=!Array.isArray(t),u=o?[t]:t,i=n.length<2;return W(r,t=>{let r=!1;const l=[];let y=0,b=e;const k=()=>{if(y)return;b();const s=n(o?l[0]:l,t);i?t(s):b=a(s)?s:e},f=u.map((e,t)=>c(e,e=>{l[t]=e,y&=~(1<<t),r&&k()},()=>{y|=1<<t}));return r=!0,k(),function(){s(f),b()}})}(ve,e=>e.length>0);var Ce=Object.freeze({__proto__:null,setupOk:Ee,getNextKeys:function(){return function(e){const t=me(e),n=_e[pe].find(e=>e.key===t);return[n.key,he(n)]}(Oe)},setupComponent:class extends J{constructor(e){super(),I(this,e,we,xe,r,{})}}});const Ke=W(!0,()=>{}),Ne=function(){const e=me(_e[pe]);return[e.key,he(e)]};var Ae=Object.freeze({__proto__:null,setupOk:Ke,getNextKeys:Ne});function je(e){let t,n,s,a,r,c,o,f,d,$,g,_,v;return t=new de({}),t.$on("key",e[5]),{c(){F(t.$$.fragment),n=k(),s=y("div"),a=y("div"),r=b(e[2]),c=k(),o=y("div"),f=y("div"),f.textContent=" ",d=k(),g=k(),_=y("div"),_.textContent=" ",$=new m(g),p(o,"class","lastKeys svelte-13rqiih"),p(s,"class","keys svelte-13rqiih")},m(l,y){H(t,l,y),i(l,n,y),i(l,s,y),u(s,a),u(a,r),u(s,c),u(s,o),u(o,f),u(o,d),$.m(e[3],o),u(o,g),u(o,_),v=!0},p(e,t){(!v||4&t)&&h(r,e[2]),(!v||8&t)&&$.p(e[3])},i(e){v||(R(t.$$.fragment,e),v=!0)},o(e){B(t.$$.fragment,e),v=!1},d(e){D(t,e),e&&l(n),e&&l(s)}}}function qe(e){let t,n,s,a,r,c,o;t=new oe({}),s=new te({});var u=e[1];return u&&(r=new u({})),{c(){F(t.$$.fragment),n=k(),F(s.$$.fragment),a=k(),r&&F(r.$$.fragment),c=f()},m(e,u){H(t,e,u),i(e,n,u),H(s,e,u),i(e,a,u),r&&H(r,e,u),i(e,c,u),o=!0},p(e,t){if(u!==(u=e[1])){if(r){M();const e=r;B(e.$$.fragment,1,0,()=>{D(e,1)}),P()}u?(r=new u({}),F(r.$$.fragment),R(r.$$.fragment,1),H(r,c.parentNode,c)):r=null}},i(e){o||(R(t.$$.fragment,e),R(s.$$.fragment,e),r&&R(r.$$.fragment,e),o=!0)},o(e){B(t.$$.fragment,e),B(s.$$.fragment,e),r&&B(r.$$.fragment,e),o=!1},d(e){D(t,e),e&&l(n),D(s,e),e&&l(a),e&&l(c),r&&D(r,e)}}}function Le(e){let t,n,s,a,r,c,o;s=new be({props:{setupOk:e[0]}});const b=[qe,je],f=[];function d(e,t){return e[4]?0:1}return r=d(e),c=f[r]=b[r](e),{c(){t=y("div"),n=y("div"),F(s.$$.fragment),a=k(),c.c(),p(n,"class","main-container svelte-13rqiih"),p(t,"class","main svelte-13rqiih")},m(e,c){i(e,t,c),u(t,n),H(s,n,null),u(n,a),f[r].m(n,null),o=!0},p(e,[t]){const a={};1&t&&(a.setupOk=e[0]),s.$set(a);let o=r;r=d(e),r===o?f[r].p(e,t):(M(),B(f[o],1,1,()=>{f[o]=null}),P(),c=f[r],c||(c=f[r]=b[r](e),c.c()),R(c,1),c.m(n,null))},i(e){o||(R(s.$$.fragment,e),R(c),o=!0)},o(e){B(s.$$.fragment,e),B(c),o=!1},d(e){e&&l(t),D(s),f[r].d()}}}function Se(e,t,n){let s;o(e,ue,e=>n(4,s=e));let a,r,{setupOk:c,getNextKeys:u,setupComponent:i}=Ce;v(ue.subscribe(e=>{e||(r=null,b())})),v(Y.subscribe(e=>{n(0,({setupOk:c,getNextKeys:u,setupComponent:i}=e==Q?Ce:Ae),c,n(1,i))}));let l="";let y=null;function b(){if(n(3,l=""),r)return n(2,a=r),void(r=null);n(2,[a,r]=u(),a)}return[c,i,a,l,s,function(e){const t=e.detail;"backspace"===t?n(3,l=l.slice(0,-1)):1===t.length&&n(3,l+=t),clearTimeout(y),y=setTimeout(()=>{y=null,l==a&&b()},10)}]}return new class extends J{constructor(e){super(),I(this,e,Se,Le,r,{})}}({target:document.body})}();
